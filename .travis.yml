language: r
sudo: true

install:
 - Rscript -e 'install.packages("devtools", repos = "http://cran.rstudio.com")'
 - Rscript -e 'install.packages("knitr", repos = "http://cran.rstudio.com")'
 - ./travis-tool.sh install_deps

r_binary_packages:
  - ggplot2
  - testthat
  - xml2
  - doParallel
  - NMF
  - igraph
  - knitr
  - XML

r_github_packages:
  - jimhester/covr
  - jimhester/lintr
  - hadley/dplyr
  - hadley/lubridate

notifications:
    email:
      on_success: change
      on_failure: change

after_success:
  - Rscript -e 'library(covr); codecov()'

env:
- LINTR_COMMENT_BOT=false
